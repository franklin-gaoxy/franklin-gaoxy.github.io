安装go语言环境
```shell
wget https://golang.google.cn/dl/go1.18.4.linux-amd64.tar.gz
tar xf go1.18.4.linux-amd64.tar.gz -C /usr/local
echo 'PATH=${PATH}:/usr/local/go/bin' >>/etc/profile
echo 'export GOPATH=~/' >>/etc/profile
source /etc/profile
```
安装gcc
```shell
yum install gcc git -y
```
拉取代码
> 如果在Linux环境下编译，最好在Linux主机拉取代码。Windows拉取的代码上传至Linux主机不知为何一直提示Markfile有问题。

```shell
mkdir -p $GOPATH/src/k8s.io
cd $GOPATH/src/k8s.io
git clone https://github.com/kubernetes/kubernetes -b release-1.24 
cd kubernetes
make
```
接下来的编译步骤大概40分钟左右
```
[root@es1 release-1.24]# make 
+++ [0728 01:09:47] Building go targets for linux/amd64
    k8s.io/kubernetes/hack/make-rules/helpers/go2make (non-static)
+++ [0728 01:10:04] Building go targets for linux/amd64
    k8s.io/code-generator/cmd/prerelease-lifecycle-gen (non-static)
+++ [0728 01:10:12] Generating prerelease lifecycle code for 26 targets
+++ [0728 01:10:15] Building go targets for linux/amd64
    k8s.io/code-generator/cmd/deepcopy-gen (non-static)
+++ [0728 01:10:17] Generating deepcopy code for 238 targets
+++ [0728 01:10:24] Building go targets for linux/amd64
    k8s.io/code-generator/cmd/defaulter-gen (non-static)
+++ [0728 01:10:26] Generating defaulter code for 93 targets
+++ [0728 01:10:37] Building go targets for linux/amd64
    k8s.io/code-generator/cmd/conversion-gen (non-static)
+++ [0728 01:10:38] Generating conversion code for 130 targets
+++ [0728 01:11:01] Building go targets for linux/amd64
    k8s.io/kube-openapi/cmd/openapi-gen (non-static)
+++ [0728 01:11:21] Generating openapi code for KUBE
+++ [0728 01:11:44] Generating openapi code for AGGREGATOR
+++ [0728 01:11:45] Generating openapi code for APIEXTENSIONS
+++ [0728 01:11:47] Generating openapi code for CODEGEN
+++ [0728 01:11:49] Generating openapi code for SAMPLEAPISERVER
+++ [0728 01:11:51] Building go targets for linux/amd64
    k8s.io/kubernetes/cmd/kube-proxy (static)
    k8s.io/kubernetes/cmd/kube-apiserver (static)
    k8s.io/kubernetes/cmd/kube-controller-manager (static)
    k8s.io/kubernetes/cmd/kubelet (non-static)
    k8s.io/kubernetes/cmd/kubeadm (static)
    k8s.io/kubernetes/cmd/kube-scheduler (static)
    k8s.io/component-base/logs/kube-log-runner (static)
    k8s.io/kube-aggregator (non-static)
    k8s.io/apiextensions-apiserver (non-static)
    k8s.io/kubernetes/cluster/gce/gci/mounter (non-static)
    k8s.io/kubernetes/cmd/kubectl (static)
    k8s.io/kubernetes/cmd/kubectl-convert (non-static)
    k8s.io/kubernetes/cmd/gendocs (non-static)
    k8s.io/kubernetes/cmd/genkubedocs (non-static)
    k8s.io/kubernetes/cmd/genman (non-static)
    k8s.io/kubernetes/cmd/genyaml (non-static)
    k8s.io/kubernetes/cmd/genswaggertypedocs (non-static)
    k8s.io/kubernetes/cmd/linkcheck (non-static)
    github.com/onsi/ginkgo/v2/ginkgo (non-static)
    k8s.io/kubernetes/test/e2e/e2e.test (test)
    k8s.io/kubernetes/test/conformance/image/go-runner (non-static)
    k8s.io/kubernetes/cmd/kubemark (static)
    github.com/onsi/ginkgo/v2/ginkgo (non-static)
    k8s.io/kubernetes/test/e2e_node/e2e_node.test (test)
```
如果GOPATH变量和上面设置一样，那么编译好的二进制文件位于`/root/src/k8s.io/kubernetes/_output/local/bin/linux/amd64`路径下
```shell
[root@es1 release-1.24]# cd /root/src/k8s.io/kubernetes/_output/local/bin/linux/amd64
[root@es1 amd64]# ls
apiextensions-apiserver  e2e.test            genyaml    kube-aggregator          kubelet          linkcheck
conversion-gen           gendocs             ginkgo     kube-apiserver           kube-log-runner  mounter
deepcopy-gen             genkubedocs         go2make    kube-controller-manager  kubemark         openapi-gen
defaulter-gen            genman              go-runner  kubectl                  kube-proxy       prerelease-lifecycle-gen
e2e_node.test            genswaggertypedocs  kubeadm    kubectl-convert          kube-scheduler
[root@es1 amd64]# 
```
[etcd官网]([https://github.com/etcd-io/etcd](https://github.com/etcd-io/etcd))
