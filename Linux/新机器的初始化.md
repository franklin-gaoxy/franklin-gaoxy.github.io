# 新机器的初始化操作

包含了：

- 时间同步
- 时区修改
- 常用工具安装
- 关闭防火墙
- 关闭selinux
- 允许root用户的远程连接
- 修改IP





## Ubuntu 24版本

时间同步

```shell
apt-get install chrony -y
# 注释掉 /etc/chrony/chrony.conf文件中的server行
echo 'server ntp.aliyun.com iburst' > /etc/chrony/sources.d/local-ntp-server.sources

systemctl enable chrony
systemctl start chrony
```

时区修改

```shell
sudo timedatectl set-timezone Asia/Shanghai
timedatectl
```

允许root用户远程连接

```shell
sudo vim /etc/ssh/sshd_config
# 将PermitRootLogin prohibit-password修改为 PermitRootLogin yes
systemctl restart ssh
```

创建密钥

```shell
ssh-keygen
```

修改IP

```shell
# 修改 /etc/netplan/xxx.yaml
# 重启
sudo netplan apply
```

